<div class="col-12">
    <h1>Listado de Clientes</h1>
    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#ModalNuevoCliente">Crear</button>
</div>

<br>
<div class="col-12">
    <form method="POST" id="form_buscar_cliente">
        <div class="form-row" id="buscador_cliente">
            <div class="form-group col-sm-12 col-md-8">
                <input [(ngModel)]="query" name="query" type="text" id="query" list="clientes" class="form-control"
                    placeholder="Buscar por cédula o nombre de cliente" (ngModelChange)="buscarClientePorQuery(query)"
                    (keyup)="recargarClientes(query)">
                <datalist id="clientes">
                    <option *ngFor="let cliente of listaClientes" [value]="cliente.cliente_nombre"></option>
                </datalist>
            </div>
        </div>
    </form>
</div>
<br>
<br>
<div class="col-12" *ngIf="tablaPequena == false">
    <table class="table table-responsive" id="tabla_detalles">
        <thead>
            <tr>
                <th>Identificación</th>
                <th>Nombre <br> Cliente</th>
                <th>Razón <br> Social</th>
                <th>Correo</th>
                <th>Activo</th>
                <th>Auditoría</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody *ngFor="let cliente of collection.data | paginate: config">
            <tr>
                <td>
                    <p id="identificacion">
                        <b>Tipo <br> Identifiación</b> <br>
                        {{cliente.cliente_tipo_identificacion}}
                        <br>
                        <b>Identifiación</b><br>
                        {{cliente.cedula_cliente}}
                    </p>
                </td>
                <td>
                    {{cliente.cliente_nombre}}
                </td>
                <td>
                    {{cliente.cliente_nombre_comercial}}
                </td>
                <td>
                    {{cliente.cliente_correo}}
                </td>
                <td>
                    {{cliente.estado_cliente}}
                </td>
                <td>
                    <b>Creado <br> Por</b> <br>
                    {{cliente.usuario}}
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn-xs mr-1" (click)="actualizarEstado(cliente)">
                        <i class="fa fa-ban"></i>
                    </button>
                    <button type="button" class="btn btn-default btn-xs" data-toggle="modal"
                        data-target="#ModalModificarCliente" (click)="buscarClientePorId(cliente.id)">
                        <i class="fa fa-pencil-square-o"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
</div>


<ng-container *ngIf="tablaPequena">
    <div class="table-responsive" *ngFor="let cliente of collection.data | paginate: config">
        <table class="table table-hover" id="tabla_detalles">
            <tbody>
                <tr>
                    <th>Identificación</th>
                    <td>
                        <b>Tipo</b><br>
                        <b>Identificación</b><br>
                        {{cliente.cliente_tipo_identificacion}}<br>
                        <b>Identificación</b><br>
                        {{cliente.cedula_cliente}}
                    </td>
                </tr>
                <tr>
                    <th>cliente</th>
                    <td style="max-width: auto; word-break: break-all">{{cliente.cliente_nombre}}</td>
                </tr>
                <tr>
                    <th>Correo</th>
                    <td style="max-width: auto; word-break: break-all">{{cliente.cliente_correo}}</td>
                </tr>
                <tr>
                    <th>Estado</th>
                    <td>{{cliente.estado_cliente}}</td>
                </tr>
                <tr>
                    <th>Auditoría</th>
                    <td>{{cliente.usuario}}</td>
                </tr>
                <tr>
                    <th>Acciones</th>
                    <td>
                        <button type="button" class="btn btn-danger btn-xs mr-1" (click)="actualizarEstado(cliente)">
                            <i class="fa fa-ban"></i>
                        </button>
                        <button type="button" class="btn btn-default btn-xs" data-toggle="modal"
                            data-target="#ModalModificarCliente" (click)="buscarClientePorId(cliente.id)">
                            <i class="fa fa-pencil-square-o"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
</ng-container>



<div class="modal fade" id="ModalNuevoCliente" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Nuevo Cliente</h5>
            </div>
            <ng-container *ngIf="mostrarmensajesError == true">
                <div class="form-group text-center mt-2 p-2">
                    <div class="alert alert-danger" role="alert" *ngFor="let error of listaErrores">
                        {{error}}
                    </div>
                </div>
            </ng-container>

            <div class="modal-body">
                <form method="POST" id="formNuevoCliente">
                    <!-- <div class="custom-control custom-checkbox">
                        <input [(ngModel)]="objCliente.exentoIVA" name="exentoIVA" id="exentoIVA" type="checkbox" class="custom-control-input">
                        <label class="custom-control-label" for="exentoIVA">Exento IVA</label>
                    </div>-->

                    <div class="form-group">
                        <label for="cliente_nombre" class="col-form-label">Nombre:</label>
                        <input [(ngModel)]="objCliente.cliente_nombre" name="cliente_nombre" type="text"
                            class="form-control" id="cliente_nombre">
                    </div>
                    <div class="form-group">
                        <label for="cliente_nombre_comercial" class="col-form-label">Nombre Comercial</label>
                        <input [(ngModel)]="objCliente.cliente_nombre_comercial" name="cliente_nombre_comercial"
                            type="text" class="form-control" id="cliente_nombre_comercial">
                    </div>

                    <div class="form-group">
                        <label for="cliente_tipo_identificacion" class="col-form-label">Tipo Identificación:</label>
                        <select [(ngModel)]="objCliente.cliente_tipo_identificacion" name="cliente_tipo_identificacion"
                            id="cliente_tipo_identificacion" class="form-control"
                            (change)="mostrarCamposExtranjero(objCliente.cliente_tipo_identificacion,'cliente_tipo_identificacion')">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let item of tipoIdentificacion" [value]="item.codigo">{{item.descripcion}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cedula_cliente" class="col-form-label">Cédula</label>
                        <input [(ngModel)]="objCliente.cedula_cliente" name="cedula_cliente" type="number"
                            class="form-control" id="cedula_cliente"
                            (blur)="validarCedula(objCliente.cliente_tipo_identificacion,objCliente.cedula_cliente)">
                    </div>

                    <div class="form-group">
                        <label for="numero_cliente" class="col-form-label">Número Cliente</label>
                        <input [(ngModel)]="objCliente.numero_cliente" name="numero_cliente" type="text"
                            class="form-control" id="numero_cliente">
                    </div>
                    <div class="form-group" id="cajaIdentificacionsExtranjero">
                        <label for="identificacion_extranjero" class="col-form-label">Identificación extranjero</label>
                        <input [(ngModel)]="objCliente.identificacion_extranjero" name="identificacion_extranjero"
                            type="number" class="form-control" id="identificacion_extranjero">
                    </div>
                    <div class="form-group">
                        <label for="provincia" class="col-form-label">Provincia:</label>
                        <select [(ngModel)]="objCliente.provincia" name="provincia" id="provincia" class="form-control"
                            (change)="obtenerCantones()">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let provincia of listaProvincias" [ngValue]="provincia.provincia">
                                {{provincia.nPro}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="canton" class="col-form-label">Cantón</label>
                        <select [(ngModel)]="objCliente.canton" name="canton" id="canton" class="form-control"
                            (change)="obtenerDistritos(objCliente.provincia,objCliente.canton)">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let canton of listaCantones" [ngValue]="canton.canton">{{canton.nCan}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="distrito" class="col-form-label">Distrito</label>
                        <select [(ngModel)]="objCliente.distrito" name="distrito" id="distrito" class="form-control"
                            (change)="obtenerBarrios(objCliente.provincia,objCliente.canton, objCliente.distrito)">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let distrito of listaDistritos" [ngValue]="distrito.distrito">
                                {{distrito.nDis}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cliente_barrio" class="col-form-label">Barrio</label>
                        <select [(ngModel)]="objCliente.cliente_barrio" name="cliente_barrio" id="cliente_barrio"
                            class="form-control">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let barrio of listaBarrios" [ngValue]="barrio.CodNew">{{barrio.nHac}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="otras_senas" class="col-form-label">Otras Señas</label>
                        <input [(ngModel)]="objCliente.otras_senas" name="otras_senas" type="text" class="form-control"
                            id="otras_senas">
                    </div>
                    <div class="form-group" id="cajaOtrasSenasExtranjero">
                        <label for="otras_senas_extranjero" class="col-form-label">Otras Señas Extranjero</label>
                        <input [(ngModel)]="objCliente.otras_senas_extranjero" name="otras_senas_extranjero" type="text"
                            class="form-control" id="otras_senas_extranjero">
                    </div>
                    <div class="form-group">
                        <label for="cliente_telefono_codigopais" class="col-form-label">Código País</label>
                        <input [(ngModel)]="objCliente.cliente_telefono_codigopais" name="cliente_telefono_codigopais"
                            type="number" class="form-control" id="cliente_telefono_codigopais">
                    </div>
                    <div class="form-group">
                        <label for="cliente_telefono_numtelefono" class="col-form-label">Teléfono</label>
                        <input [(ngModel)]="objCliente.cliente_telefono_numtelefono" name="cliente_telefono_numtelefono"
                            type="number" class="form-control" id="cliente_telefono_numtelefono">
                    </div>

                    <div class="form-group">
                        <label for="cliente_fax_codigopais" class="col-form-label">Código País</label>
                        <input [(ngModel)]="objCliente.cliente_fax_codigopais" name="cliente_fax_codigopais"
                            type="number" class="form-control" id="cliente_fax_codigopais">
                    </div>
                    <div class="form-group">
                        <label for="cliente_fax_numtelefono" class="col-form-label">Fax</label>
                        <input [(ngModel)]="objCliente.cliente_fax_numtelefono" name="cliente_fax_numtelefono"
                            type="number" class="form-control" id="cliente_fax_numtelefono">
                    </div>
                    <div class="form-group">
                        <label for="cliente_correo" class="col-form-label">Correo</label>
                        <input (keyup)="validarCorreo($event.target.value)" [(ngModel)]="objCliente.cliente_correo"
                            name="cliente_correo" type="email" class="form-control" id="cliente_correo">
                        <p *ngIf="errorCorreo !== null">
                        <h4 *ngIf="errorCorreo == true"> correo Correcto</h4>
                        <h4 *ngIf="errorCorreo == false">correo Incorrecto</h4>
                    </div>
                    <div class="form-group">
                        <label for="descuento" class="col-form-label">Descuento</label>
                        <input (keyup)="validarValoresDecimales($event)" [(ngModel)]="objCliente.descuento"
                            name="descuento" type="email" class="form-control" id="descuento">
                    </div>
                    <div class="form-group">
                        <label for="plazoCredito" class="col-form-label">Plazo Crédito</label>
                        <input (keyup)="validarValoresEnteros($event)" [(ngModel)]="objCliente.plazo_credito"
                            name="plazo_credito" type="email" class="form-control" id="plazoCredito">
                    </div>

                    <div class="row" id="cajaExoneracion">
                        <h4 class="text-center w-100">Datos de Exoneración</h4>
                        <div class="form-group col-md-6">
                            <label for="porcentajeExoneracion" class="col-form-label">Porcentaje:</label>
                            <input [(ngModel)]="objCliente.porcentajeExoneracion" type="number"
                                name="porcentajeExoneracion" id="porcentajeExoneracion" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="tipoExoneracio" class="col-form-label">Tipo:</label>
                            <select [(ngModel)]="objCliente.tipoExoneracion" name="tipoExoneracion" id="tipoExoneracion"
                                class="form-control">
                                <option value="">Seleccione</option>
                                <option *ngFor="let exoneracion of listaTipoExoneracion" [value]="exoneracion.codigo">
                                    {{exoneracion.descripcion}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="documentoExoneracion" class="col-form-label">Documento:</label>
                            <input [(ngModel)]="objCliente.documentoExoneracion" type="text" name="documentoExoneracion"
                                id="documentoExoneracion" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="nombreInstitucion" class="col-form-label">Institucion:</label>
                            <input [(ngModel)]="objCliente.NombreInstitucion" type="text" name="NombreInstitucion"
                                id="nombreInstitucion" class="form-control">
                        </div>
                    </div>

                    <div class="row" id="cajaUbicacion">
                        <h4 class="text-center w-100">Datos de Ubicación</h4>
                        <div class="form-group col-md-6">
                            <label for="">Latitud</label>
                            <input [(ngModel)]="objCliente.latitud" name="latitud" type="text" class="form-control"
                                id="latitud">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="">Longitud</label>
                            <input [(ngModel)]="objCliente.longitud" name="longitud" type="text" class="form-control"
                                id="longitud">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="limpiarObjetoCliente()"
                    data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="nuevoCliente(objCliente)"
                    [disabled]="errorCorreo == false || errorCampos === true">Guardar</button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="ModalModificarCliente" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Actualizar Cliente</h5>
            </div>
            <ng-container *ngIf="mostrarmensajesError == true">
                <div class="form-group text-center mt-2 p-2">
                    <div class="alert alert-danger" role="alert" *ngFor="let error of listaErrores">
                        {{error}}
                    </div>
                </div>
            </ng-container>
            <div class="modal-body">
                <form method="POST" id="formModificarCliente">
                    <!-- <div class="custom-control custom-checkbox">
                        <input [(ngModel)]="objCliente.exentoIVA" name="exentoIVA" id="exentoIVA" type="checkbox" class="custom-control-input">
                        <label class="custom-control-label" for="exentoIVA">Exento IVA</label>
                    </div>-->

                    <div class="form-group">
                        <label for="cliente_nombre" class="col-form-label">Nombre:</label>
                        <input [(ngModel)]="objCliente.cliente_nombre" name="cliente_nombre" type="text"
                            class="form-control" id="cliente_nombreActualizar">
                    </div>
                    <div class="form-group">
                        <label for="cliente_nombre_comercial" class="col-form-label">Nombre Comercial</label>
                        <input [(ngModel)]="objCliente.cliente_nombre_comercial" name="cliente_nombre_comercial"
                            type="text" class="form-control" id="cliente_nombre_comercialActualizar">
                    </div>

                    <div class="form-group">
                        <label for="cliente_tipo_identificacionActualizar" class="col-form-label">Tipo
                            Identificación:</label>
                        <select [(ngModel)]="objCliente.cliente_tipo_identificacion" name="cliente_tipo_identificacion"
                            id="cliente_tipo_identificacionActualizar" class="form-control"
                            (change)="mostrarCamposExtranjero(objCliente.cliente_tipo_identificacion,'cliente_tipo_identificacionActualizar')">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let item of tipoIdentificacion" [value]="item.codigo">{{item.descripcion}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cedula_clienteActualizar" class="col-form-label">Cédula</label>
                        <input [(ngModel)]="objCliente.cedula_cliente" name="cedula_cliente" type="number"
                            class="form-control" id="cedula_clienteActualizar">
                    </div>

                    <div class="form-group">
                        <label for="numero_clienteActualizar" class="col-form-label">Número Cliente</label>
                        <input [(ngModel)]="objCliente.numero_cliente" name="numero_cliente" type="text"
                            class="form-control" id="numero_clienteActualizar">
                    </div>

                    <div class="form-group" id="cajaIdentificacionsExtranjeroActualizar">
                        <label for="identificacion_extranjeroActualizar" class="col-form-label">Identificación
                            extranjero</label>
                        <input [(ngModel)]="objCliente.identificacion_extranjero" name="identificacion_extranjero"
                            type="number" class="form-control" id="identificacion_extranjeroActualizar">
                    </div>
                    <div class="form-group">
                        <label for="provinciaActualizar" class="col-form-label">Provincia:</label>
                        <select [(ngModel)]="objCliente.provincia" name="provincia" id="provinciaActualizar"
                            class="form-control" (change)="obtenerCantones()">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let provincia of listaProvincias" [ngValue]="provincia.provincia">
                                {{provincia.nPro}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cantonActualizar" class="col-form-label">Cantón</label>
                        <select [(ngModel)]="objCliente.canton" name="canton" id="cantonActualizar" class="form-control"
                            (change)="obtenerDistritos(objCliente.provincia,objCliente.canton)">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let canton of listaCantones" [ngValue]="canton.canton">{{canton.nCan}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="distritoActualizar" class="col-form-label">Distrito</label>
                        <select [(ngModel)]="objCliente.distrito" name="distrito" id="distritoActualizar"
                            class="form-control"
                            (change)="obtenerBarrios(objCliente.provincia,objCliente.canton, objCliente.distrito)">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let distrito of listaDistritos" [ngValue]="distrito.distrito">
                                {{distrito.nDis}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cliente_barrioActualizar" class="col-form-label">Barrio</label>
                        <select [(ngModel)]="objCliente.cliente_barrio" name="cliente_barrio"
                            id="cliente_barrioActualizar" class="form-control">
                            <option value="">--Seleccione--</option>
                            <option *ngFor="let barrio of listaBarrios" [ngValue]="barrio.CodNew">{{barrio.nHac}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="otras_senasActualizar" class="col-form-label">Otras Señas</label>
                        <input [(ngModel)]="objCliente.otras_senas" name="otras_senas" type="text" class="form-control"
                            id="otras_senasActualizar">
                    </div>
                    <div class="form-group" id="cajaOtrasSenasExtranjeroActualizar">
                        <label for="otras_senas_extranjeroActualizar" class="col-form-label">Otras Señas
                            Extranjero</label>
                        <input [(ngModel)]="objCliente.otras_senas_extranjero" name="otras_senas_extranjero" type="text"
                            class="form-control" id="otras_senas_extranjeroActualizar">
                    </div>
                    <div class="form-group">
                        <label for="cliente_telefono_codigopaisActualizar" class="col-form-label">Código País</label>
                        <input [(ngModel)]="objCliente.cliente_telefono_codigopais" name="cliente_telefono_codigopais"
                            type="number" class="form-control" id="cliente_telefono_codigopaisActualizar">
                    </div>
                    <div class="form-group">
                        <label for="cliente_telefono_numtelefonoActualizar" class="col-form-label">Teléfono</label>
                        <input [(ngModel)]="objCliente.cliente_telefono_numtelefono" name="cliente_telefono_numtelefono"
                            type="number" class="form-control" id="cliente_telefono_numtelefonoActualizar">
                    </div>

                    <div class="form-group">
                        <label for="cliente_fax_codigopaisActualizar" class="col-form-label">Código País</label>
                        <input [(ngModel)]="objCliente.cliente_fax_codigopais" name="cliente_fax_codigopais"
                            type="number" class="form-control" id="cliente_fax_codigopaisActualizar">
                    </div>
                    <div class="form-group">
                        <label for="cliente_fax_numtelefonoActualizar" class="col-form-label">Fax</label>
                        <input [(ngModel)]="objCliente.cliente_fax_numtelefono" name="cliente_fax_numtelefono"
                            type="number" class="form-control" id="cliente_fax_numtelefonoActualizar">
                    </div>
                    <div class="form-group">
                        <label for="cliente_correoActualizar" class="col-form-label">Correo</label>
                        <input (keyup)="validarCorreo($event.target.value)" [(ngModel)]="objCliente.cliente_correo"
                            name="cliente_correo" type="email" class="form-control" id="cliente_correoActualizar">
                        <p *ngIf="errorCorreo !== null">
                        <h4 *ngIf="errorCorreo == true"> correo Correcto</h4>
                        <h4 *ngIf="errorCorreo == false">correo Incorrecto</h4>
                    </div>
                    <div class="form-group">
                        <label for="descuentoActualizar" class="col-form-label">Descuento</label>
                        <input (keyup)="validarValoresDecimales($event)" [(ngModel)]="objCliente.descuento"
                            name="descuento" type="email" class="form-control" id="descuentoActualizar">
                    </div>
                    <div class="form-group">
                        <label for="plazoCreditoActualizar" class="col-form-label">Plazo Crédito</label>
                        <input (keyup)="validarValoresEnteros($event)" [(ngModel)]="objCliente.plazo_credito"
                            name="plazo_credito" type="email" class="form-control" id="plazoCreditoActualizar">
                    </div>
                    <div class="row" id="cajaExoneracion">
                        <h4 class="text-center w-100">Datos de Exoneración</h4>
                        <div class="form-group col-md-6">
                            <label for="porcentajeExoneracion" class="col-form-label">Porcentaje:</label>
                            <input [(ngModel)]="objCliente.porcentajeExoneracion" type="number"
                                name="porcentajeExoneracion" id="porcentajeExoneracion" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="tipoExoneracio" class="col-form-label">Tipo:</label>
                            <select [(ngModel)]="objCliente.tipoExoneracion" name="tipoExoneracion" id="tipoExoneracion"
                                class="form-control">
                                <option value="">Seleccione</option>
                                <option *ngFor="let exoneracion of listaTipoExoneracion" [value]="exoneracion.codigo">
                                    {{exoneracion.descripcion}}</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="documentoExoneracion" class="col-form-label">Documento:</label>
                            <input [(ngModel)]="objCliente.documentoExoneracion" type="text" name="documentoExoneracion"
                                id="documentoExoneracion" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="nombreInstitucion" class="col-form-label">Institucion:</label>
                            <input [(ngModel)]="objCliente.NombreInstitucion" type="text" name="NombreInstitucion"
                                id="nombreInstitucion" class="form-control">
                        </div>
                    </div>

                    <div class="row" id="cajaUbicacion">
                        <h4 class="text-center w-100">Datos de Ubicación</h4>
                        <div class="form-group col-md-6">
                            <label for="">Latitud</label>
                            <input [(ngModel)]="objCliente.latitud" name="latitud" type="text" class="form-control"
                                id="latitud">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="">Longitud</label>
                            <input [(ngModel)]="objCliente.longitud" name="longitud" type="text" class="form-control"
                                id="longitud">
                        </div>
                    </div>

                    <div class="form-group">
                        <button type="button" class="btn btn-outline-primary"
                            (click)="actualizarUbicacion((objCliente.id ))">
                            <i class="fa fa-map-marker"></i> Actualizar Ubicación
                        </button>
                    </div>

                    <div class="form-check">
                        <input [(ngModel)]="autorizar" name="autorizar" class="form-check-input" type="checkbox"
                            value="" id="chkAutorizar" [checked]="autorizar">
                        <label class="form-check-label" for="chkAutorizar">
                            Autorizar Cliente
                        </label>
                    </div>

                    <div class="form-group" *ngIf="autorizar">
                        <input [(ngModel)]="claveAutorizar" name="claveAutorizar" type="password" id="txtClave"
                            class="form-control" placeholder="digite la clave para autorizar el cliente">
                        <br>
                        <br>
                        <button type="button" id="btnPendientes" class="btn btn-primary"
                            (click)="autorizarClienteProforma(objCliente.id,claveAutorizar)">
                            <i class="fa fa-check">
                            </i></button>
                    </div>

                    <div class="form-group text-center">
                        <label for="">Deshabilitar estado autorizado</label>
                        <button type="button" class="btn btn-outline-danger"
                            (click)="innhabilitarEstadoAutorizado(objCliente.id)">Deshabilitar autorización
                            proformas<br> </button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="limpiarObjetoCliente()"
                    data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="actualizarCliente(objCliente)"
                    [disabled]="errorCorreo == false">Guardar</button>
            </div>
        </div>
    </div>
</div>





<!-- 
<div class="col-12">
    <form method="POST" id="form_cliente">

        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <div class="form-group">
                        <label for="cliente_nombre_comercial">Nombre Comercial</label>
                        <input [(ngModel)]="objCliente.cliente_nombre_comercial" type="text" name="cliente_nombre_comercial" id="cliente_nombre_comercial" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="cliente_nombre">Nombre</label>
                        <input [(ngModel)]="objCliente.cliente_nombre" type="text" name="cliente_nombre" id="cliente_nombre" class="form-control">
                    </div>
                </div>
                <div class="col-sm">
                    <div class="container">
                        <div class="row" id="seccionExoneracion">
                            <div class="col-sm">
                                <div class="custom-control custom-checkbox">
                                    <input [(ngModel)]="objCliente.exentoIVA" name="exentoIVA" id="exentoIVA" type="checkbox" class="custom-control-input" id="exentoIVA">
                                    <label class="custom-control-label" for="exentoIVA">Exento IVA</label>
                                </div>
                                <div class="form-group">
                                    <label>Tipo Exoneracion</label>
                                    <select [(ngModel)]="objCliente.tipoExoneracion" name="tipoExoneracion" id="tipoExoneracion" class="form-control">
                                        <option value="" selected>Seleccione</option>
                                        <option *ngFor="let item of listaTipoExoneracion" [ngValue]="item.codigo">{{item.descripcion}}</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Documento Exoneracion</label>
                                    <input [(ngModel)]="objCliente.documentoExoneracion" type="text" name="documentoExoneracion" class="form-control" id="documentoExoneracion">
                                </div>
                            </div>
                            <div class="col-sm">
                                <div class="form-group">
                                    <label>Porcentaje</label>
                                    <input [(ngModel)]="objCliente.porcentajeExoneracion" type="number" name="porcentajeExoneracion" id="porcentajeExoneracion" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Nombre Institución</label>
                                    <input [(ngModel)]="objCliente.NombreInstitucion" type="text" name="nombreInstitucion" id="nombreInstitucion" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="cliente_tipo_identificacion">Tipo Identificación</label>
                <select [(ngModel)]="objCliente.cliente_tipo_identificacion" id="cliente_tipo_identificacion" name="cliente_tipo_identificacion" class="form-control">
                    <option value="" disabled selected>--SELECCIONE--</option>
                    <option *ngFor="let tipo of tipoIdentificacion" [ngValue]="tipo.codigo">{{tipo.descripcion}}</option>
                </select>
            </div>
            <div class="form-group col-md-4">
                <label for="cedula_cliente">Cédula Cliente</label>
                <input [(ngModel)]="objCliente.cedula_cliente" type="text" name="cedula_cliente" id="cedula_cliente" class="form-control">
            </div>
            <div class="form-group col-md-4">
                <label for="identificacion_extranjero">Identifación Extranjero</label>
                <input [(ngModel)]="objCliente.identificacion_extranjero" type="text" name="identificacion_extranjero" id="identificacion_extranjero" class="form-control">
            </div>

        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="provincia">Provincia</label>(change)="obtenerBarrios(objCliente.provincia,objCliente.canton, objCliente.distrito)"
                <select [(ngModel)]="objCliente.provincia" id="provincia" name="provincia" class="form-control" (change)="obtenerCantones()">
                    <option value="" disabled selected>--Seleccione--</option>
                    <option *ngFor="let provincia of listaProvincias" [ngValue]="provincia.provincia">{{provincia.nPro}}</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="canton">Cantón</label>

                <select [(ngModel)]="objCliente.canton" id="canton" name="canton" class="form-control" (change)="obtenerDistritos(objCliente.provincia,objCliente.canton)">
                    <option value="" disabled selected>--Seleccione--</option>
                    <option *ngFor="let canton of listaCantones" [ngValue]="canton.canton">{{canton.nCan}}</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="distrito">Distrito</label>

                <select [(ngModel)]="objCliente.distrito" id="distrito" name="distrito" class="form-control" (change)="obtenerBarrios(objCliente.provincia,objCliente.canton, objCliente.distrito)">
                    <option value="" disabled selected>--Seleccione--</option>
                    <option *ngFor="let distrito of listaDistritos" [ngValue]="distrito.distrito">{{distrito.nDis}}</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="barrio">Barrio</label>

                <select [(ngModel)]="objCliente.cliente_barrio" id="barrio" name="barrio" class="form-control">
                    <option value="" disabled selected>--Seleccione--</option>
                    <option *ngFor="let barrio of listaBarrios" [ngValue]="barrio.CodNew">{{barrio.nHac}}</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="otras_senas">Otrase Señas</label>
                <input [(ngModel)]="objCliente.otras_senas" type="text" name="otras_senas" id="otras_senas" class="form-control">
            </div>
            <div class="form-group col-md-6">
                <label for="otras_senas_extranjero">Otrase Señas Extranjero</label>
                <input [(ngModel)]="objCliente.otras_senas_extranjero" type="text" name="otras_senas_extranjero" id="otras_senas_extranjero" class="form-control">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="cliente_telefono_codigopais">Código País</label>
                <input type="text" [(ngModel)]="objCliente.cliente_telefono_codigopais" name="cliente_telefono_codigopais" id="cliente_telefono_codigopais" class="form-control">
            </div>
            <div class="form-group col-md-6">
                <label for="cliente_telefono_numtelefono">Teléfono</label>
                <input [(ngModel)]="objCliente.cliente_telefono_numtelefono" type="text" name="cliente_telefono_numtelefono" id="cliente_telefono_numtelefono" class="form-control">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="cliente_fax_codigopais">Código País</label>
                <input [(ngModel)]="objCliente.cliente_fax_codigopais" type="text" name="cliente_fax_codigopais" id="cliente_fax_codigopais" class="form-control">
            </div>
            <div class="form-group col-md-6">
                <label for="cliente_fax_numtelefono">Fax</label>
                <input [(ngModel)]="objCliente.cliente_fax_numtelefono" type="text" name="cliente_fax_numtelefono" id="cliente_fax_numtelefono" class="form-control">
            </div>
        </div>
        <div class="form-group">
            <label for="cliente_correo">Correo</label>
            <input [(ngModel)]="objCliente.cliente_correo" type="text" name="cliente_correo" id="cliente_correo" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary" (click)="procesarCliente($event,objCliente)">Guardar</button>
    </form>
</div>-->