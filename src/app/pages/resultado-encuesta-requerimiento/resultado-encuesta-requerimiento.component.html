<div class="col-12">
    <h1> <i class="fa fa-list-alt"></i> Encuesta de Requerimientos </h1>
    <h4>Fecha: <span class="bagde badge-secondary p-1"> {{fecha}} </span></h4>
</div>
<hr>
<div class="container">
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label for="">Pregunta</label>
                <select (change)="seleccionarPregunta()" name="pregunta" id="pregunta" class="form-control">
                    <option value="">Seleccione</option>
                    <option *ngFor="let pregunta of listaPreguntas" [value]="pregunta.id">{{pregunta.pregunta}}</option>
                </select>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label for="">Cliente</label>
                <select (change)="cargarCliente($event.target.value)" name="cliente" id="cliente" class="form-control">
                    <option value="">Seleccione</option>
                    <option *ngFor="let cliente of listaClientes" [value]="cliente.id">{{cliente.cliente_nombre}}</option>
                </select>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label for="">Cantidad</label>
                <input  
                    type="text" 
                    name="cantidad" 
                    id="cantidad" 
                    class="form-control"
                    (keyup)="validarValoresDecimales($event.target.value)"
                >
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-md-4">
            <div class="form-group">
                <label>Requerimiento </label>
                <textarea 
                    name="requerimiento"
                    class="form-control" 
                    id="requerimiento" 
                    rows="3"
                    (keyup)="validarExpresion($event.target.value)"
                >
                </textarea>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>Observacion </label>
                <textarea 
                    name="observacion"
                    class="form-control" 
                    id="observacion" 
                    rows="3"
                    (keyup)="validarExpresion($event.target.value)"
                >
                </textarea>
            </div>
        </div>
        <div class="col-12">
            <div class="form-group">
                <button class="btn btn-success" (click)="cargarPregunta()" [disabled]="disable">
                    <i class="fa fa-plus"></i> Agregar
                </button>
            </div>
        </div>
    </div>
    <br>

    <table class="table table-striped table-hover" *ngIf="!tablaPequena">
        <thead class="thead-ligth">
            <tr>
                <th>Pregunta</th>
                <th>Requerimiento</th>
                <th>ObservaciÃ³n</th>
                <th>Cantidad</th>
                <th>X</th>
            </tr>
        </thead>
        <tbody *ngFor="let respuesta of listaRespuestas">
            <tr>
                <td style="word-break: break-all;">
                    <label for="">
                        {{respuesta.pregunta}}
                    </label>
                </td>
                <td style="word-break: break-all;">                
                    <label for=""> {{respuesta.requerimiento}} </label>
                </td>
                <td style="word-break: break-all;">
                    <label for=""> {{respuesta.observacion}} </label>
                </td>
                <td>
                    <label for=""> {{respuesta.cantidad}} </label>
                </td>
                <td>
                    <button type="button" (click)="eliminarRespuesta(respuesta.indice)" class="btn btn-danger btn-sm">
                        <i class="fa fa-remove"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <table *ngIf="tablaPequena">
        <tbody *ngFor="let respuesta of listaRespuestas">
            <tr>
                <th>Pregunta</th>
                <td style="word-break: break-all;" class="ml-1">
                    <label for="">
                        {{respuesta.pregunta}}
                    </label>
                </td>
            </tr>
            <tr>
                <th>Cantidad</th>
                <td>
                    <label for=""> {{respuesta.cantidad}} </label>
                </td>
            </tr>
            <tr>
                <th>Requerimiento </th>
                <td style="word-break: break-all;">
                    <label for=""> {{respuesta.requerimiento}} </label>
                </td>
            </tr>
            <tr>
                <th>Observacion </th>
                <td style="word-break: break-all;">
                    <label for=""> {{respuesta.observacion}} </label>
                </td>
            </tr>
            <tr>
                <th>quitar</th>
                <td>
                    <button type="button" (click)="eliminarRespuesta(respuesta.indice)" class="btn btn-danger btn-xs">
                        <i class="fa fa-remove"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<hr>
<div class="row">
    <div class="col-6">
        <button class="btn btn-info" (click)="agregarPreguntas(listaRespuestas)">
            <i class="fa fa-plus"></i> Guardar Respuesta
        </button>
    </div>
</div>